import{a as L,S as w,i}from"./assets/vendor-C-TexYiS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();const f=async(r,t)=>{const c=new URLSearchParams({q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t,key:"45532957-9c3fb9f5acbf0ac0bdba7e21a"});return(await L.get(`https://pixabay.com/api/?${c}`)).data},b=document.querySelector(".gallery"),y=r=>{let t=new w(".gallery a",{captionsData:"alt",captionDelay:250}),c=r.hits.map(s=>`<div class="image-card"><a href="${s.largeImageURL}"><img class="image" src="${s.webformatURL}" alt="${s.tags}" /></a><div class="wrapper"><div class="wrapper-text"><h5>Likes</h5><p>${s.likes}</p></div><div class="wrapper-text"><h5>Views</h5><p>${s.views}</p></div><div class="wrapper-text"><h5>Comments</h5><p>${s.comments}</p></div><div class="wrapper-text"><h5>Downloads</h5><p>${s.downloads}</p></div></div></div>`).join("");b.insertAdjacentHTML("beforeend",c),t.refresh()},m=document.querySelector(".gallery"),u=document.querySelector(".form"),g=document.querySelector(".search-input"),n=document.querySelector(".loader"),a=document.querySelector(".load-more-btn");let p="",d=1,l=0,v=0;const S=async r=>{try{if(r.preventDefault(),m.innerHTML="",d=1,l=0,a.classList.add("is-hidden"),g.value==="")i.error({message:"Enter your request",close:"true",position:"topRight",color:"#ef4040",messageColor:"white"});else{p=g.value,n.classList.remove("is-hidden");const t=await f(p,d);if(l+=t.hits.length,t.hits.length===0){i.error({message:"Sorry, there are no images matching your search query. Please try again!",close:"true",position:"topRight",color:"#ef4040",messageColor:"white"}),a.classList.add("is-hidden"),n.classList.add("is-hidden"),u.reset();return}else l===t.totalHits?(a.classList.add("is-hidden"),i.info({message:"We're sorry, but you've reached the end of search results.",close:"true",position:"topRight"})):a.classList.remove("is-hidden");y(t),v=m.querySelector("div").getBoundingClientRect().height,n.classList.add("is-hidden")}}catch(t){i.error({message:`An error ${t} occurred`,close:"true",position:"topRight",color:"#ef4040",messageColor:"white"})}u.reset()},q=async()=>{try{d++,n.classList.remove("is-hidden"),a.classList.add("is-hidden");const r=await f(p,d);l+=r.hits.length,r.hits.length===0&&i.error({message:"Sorry, there are no images matching your search query. Please try again!",close:"true",position:"topRight",color:"#ef4040",messageColor:"white"}),y(r),scrollBy({top:v*2,behavior:"smooth"}),n.classList.add("is-hidden"),a.classList.remove("is-hidden"),l==r.totalHits&&(a.classList.add("is-hidden"),i.info({message:"We're sorry, but you've reached the end of search results.",close:"true",position:"topRight"}))}catch(r){i.error({message:`An error ${r} occurred`,close:"true",position:"topRight",color:"#ef4040",messageColor:"white"})}};u.addEventListener("submit",S);a.addEventListener("click",q);
//# sourceMappingURL=index.js.map
